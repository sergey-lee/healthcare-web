# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å–æ —Å—Ç–∏–ª—è–º–∏ –∏ –∞–Ω–∏–º–∞—Ü–∏—è–º–∏

## üîß –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

–ü—Ä–æ–±–ª–µ–º–∞: –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ `<script src="/i18n-loader.js"></script>` —Å–±—Ä–∞—Å—ã–≤–∞–ª–∏—Å—å CSS —Å—Ç–∏–ª–∏ –∏ –∞–Ω–∏–º–∞—Ü–∏–∏.

### –ü—Ä–∏—á–∏–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã:

1. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∑–∞–º–µ–Ω–∞ —Ç–µ–∫—Å—Ç–∞** - `element.textContent` —É–¥–∞–ª—è–ª –≤—Å–µ –¥–æ—á–µ—Ä–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã, –≤–∫–ª—é—á–∞—è `<span>`, `<i>` –∏ –¥—Ä—É–≥–∏–µ —Ç–µ–≥–∏ —Å–æ —Å—Ç–∏–ª—è–º–∏
2. **–†–∞–Ω–Ω—è—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è** - —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞–ª—Å—è –¥–æ –ø–æ–ª–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ CSS
3. **MutationObserver –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤–∞–ª** —Å –¥—Ä—É–≥–∏–º–∏ —Å–∫—Ä–∏–ø—Ç–∞–º–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ

### –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ [i18n-loader.js](i18n-loader.js):

‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –∑–∞–º–µ–Ω–∞ —Ç–µ–∫—Å—Ç–∞** - —Ç–µ–ø–µ—Ä—å —Å–∫—Ä–∏–ø—Ç –ù–ï —É–¥–∞–ª—è–µ—Ç –¥–æ—á–µ—Ä–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã
‚úÖ **–û–∂–∏–¥–∞–Ω–∏–µ –ø–æ–ª–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏** - —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ —Å–æ–±—ã—Ç–∏—è `load`, –∞ –Ω–µ `DOMContentLoaded`
‚úÖ **MutationObserver –æ—Ç–∫–ª—é—á–µ–Ω** –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é - –Ω–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É–µ—Ç —Å –¥—Ä—É–≥–∏–º–∏ —Å–∫—Ä–∏–ø—Ç–∞–º–∏
‚úÖ **requestAnimationFrame** - –¥–∞–µ—Ç –±—Ä–∞—É–∑–µ—Ä—É –≤—Ä–µ–º—è –Ω–∞ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥

---

## üöÄ –ö–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å —Å–∫—Ä–∏–ø—Ç

### –í–∞—Ä–∏–∞–Ω—Ç 1: –° –∞—Ç—Ä–∏–±—É—Ç–æ–º defer (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```html
<script src="/i18n-loader.js" defer></script>
<script src="/i18n-loader.js" defer></script></body>
</html>
```

–ê—Ç—Ä–∏–±—É—Ç `defer` –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ —Å–∫—Ä–∏–ø—Ç –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è –ø–æ—Å–ª–µ –ø–∞—Ä—Å–∏–Ω–≥–∞ HTML, –Ω–æ –¥–æ —Å–æ–±—ã—Ç–∏—è `DOMContentLoaded`.

### –í–∞—Ä–∏–∞–Ω—Ç 2: –° –∞—Ç—Ä–∏–±—É—Ç–æ–º async

```html
<script src="/i18n-loader.js" async></script>
<script src="/i18n-loader.js" defer></script></body>
</html>
```

`async` –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ, –Ω–µ –±–ª–æ–∫–∏—Ä—É—è –ø–∞—Ä—Å–∏–Ω–≥ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.

### –í–∞—Ä–∏–∞–Ω—Ç 3: –í –∫–æ–Ω—Ü–µ body (–∫–∞–∫ —É –≤–∞—Å —Å–µ–π—á–∞—Å)

```html
<script src="/i18n-loader.js"></script>
<script src="/i18n-loader.js" defer></script></body>
</html>
```

–≠—Ç–æ —Ç–æ–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ `defer` –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–µ–µ.

---

## üß™ –ü—Ä–æ–≤–µ—Ä–∫–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –ù–∞–∂–º–∏—Ç–µ F12 ‚Üí Console
3. –î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```
[i18n] Initializing...
[i18n] Loaded translations: 10 categories
[i18n] Translations applied
```

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∏–ª–∏:**
   - –í—Å–µ CSS –¥–æ–ª–∂–Ω—ã –ø—Ä–∏–º–µ–Ω—è—Ç—å—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
   - –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å
   - Hover —ç—Ñ—Ñ–µ–∫—Ç—ã –¥–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å
   - Layout –Ω–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–ª–æ–º–∞–Ω

---

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º

### –ï—Å–ª–∏ —Å—Ç–∏–ª–∏ –≤—Å–µ –µ—â–µ —Å–ª–æ–º–∞–Ω—ã:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –Ω–∞ –æ—à–∏–±–∫–∏:**
   ```
   F12 ‚Üí Console
   ```
   –ò—â–∏—Ç–µ –∫—Ä–∞—Å–Ω—ã–µ –æ—à–∏–±–∫–∏

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ª–∏ JSON:**
   ```javascript
   window.i18n.getString('navigation.about')
   ```
   –î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å `"About"` –∏–ª–∏ –¥—Ä—É–≥–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ

3. **–í—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç–µ i18n:**
   –ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ —Å—Ç—Ä–æ–∫—É:
   ```html
   <!-- <script src="/i18n-loader.js"></script> -->
   ```
   –ï—Å–ª–∏ —Å—Ç–∏–ª–∏ –≤–µ—Ä–Ω—É–ª–∏—Å—å - –ø—Ä–æ–±–ª–µ–º–∞ –≤ —Å–∫—Ä–∏–ø—Ç–µ

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ Network:**
   ```
   F12 ‚Üí Network ‚Üí Reload
   ```
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `i18n-loader.js` –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è (200 OK)
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `i18n_categorized.json` –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è (200 OK)
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ CSS —Ñ–∞–π–ª—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è

---

## üõ†Ô∏è –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å MutationObserver:

–¢–æ–ª—å–∫–æ –µ—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç (AJAX, React, Vue –∏ —Ç.–¥.):

```javascript
// –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞
window.i18n.enableObserver();
```

–ò–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ –≤ HTML:
```html
<script>
// –ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ i18n-loader.js
window.addEventListener('load', () => {
  setTimeout(() => {
    window.i18n.enableObserver();
  }, 1000);
});
</script>
```

### –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—è–¥–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏:

–ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç **–ü–û–°–õ–ï** –≤—Å–µ—Ö –¥—Ä—É–≥–∏—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤:

```html
<!-- –°–Ω–∞—á–∞–ª–∞ –≤—Å–µ –¥—Ä—É–≥–∏–µ —Å–∫—Ä–∏–ø—Ç—ã -->
<script src="/wp-content/themes/salient/js/init.js"></script>
<script src="/wp-content/themes/salient/js/third-party/..."></script>

<!-- –ò —Ç–æ–ª—å–∫–æ –ø–æ—Ç–æ–º i18n -->
<script src="/i18n-loader.js" defer></script>
<script src="/i18n-loader.js" defer></script></body>
```

---

## üìù –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

```javascript
// –ü–õ–û–•–û: –£–¥–∞–ª—è–µ—Ç –≤—Å–µ –¥–æ—á–µ—Ä–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã
element.textContent = translation;
```

–ü—Ä–∏–º–µ—Ä –ø—Ä–æ–±–ª–µ–º—ã:
```html
<!-- –î–æ -->
<button data-i18n="buttons.search">
  <i class="icon-search"></i> Search
</button>

<!-- –ü–æ—Å–ª–µ (–°–õ–û–ú–ê–ù–û) -->
<button data-i18n="buttons.search">
  Search
</button>
<!-- –ò–∫–æ–Ω–∫–∞ <i> —É–¥–∞–ª–µ–Ω–∞! -->
```

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

```javascript
// –•–û–†–û–®–û: –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–æ—á–µ—Ä–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã
const hasChildElements = element.children.length > 0;

if (!hasChildElements) {
    element.textContent = translation;
} else {
    // –ó–∞–º–µ–Ω—è–µ–º —Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —É–∑–ª—ã
    for (let node of element.childNodes) {
        if (node.nodeType === Node.TEXT_NODE && node.textContent.trim()) {
            node.textContent = translation;
            break;
        }
    }
}
```

–†–µ–∑—É–ª—å—Ç–∞—Ç:
```html
<!-- –ü–æ—Å–ª–µ (–ü–†–ê–í–ò–õ–¨–ù–û) -->
<button data-i18n="buttons.search">
  <i class="icon-search"></i> Search
</button>
<!-- –ò–∫–æ–Ω–∫–∞ <i> —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞! -->
```

---

## ‚úÖ –ò—Ç–æ–≥–æ–≤—ã–π —á–µ–∫–ª–∏—Å—Ç

- [ ] –û–±–Ω–æ–≤–ª–µ–Ω [i18n-loader.js](i18n-loader.js) —Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º–∏
- [ ] –î–æ–±–∞–≤–ª–µ–Ω –∞—Ç—Ä–∏–±—É—Ç `defer` –∫ —Ç–µ–≥—É `<script>`
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ - –Ω–µ—Ç –æ—à–∏–±–æ–∫
- [ ] CSS —Å—Ç–∏–ª–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –ê–Ω–∏–º–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] Hover —ç—Ñ—Ñ–µ–∫—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] Layout –Ω–µ —Å–ª–æ–º–∞–Ω

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É (Ctrl+F5 / Cmd+Shift+R –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ –∫—ç—à–∞)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü —Å–∞–π—Ç–∞
3. –ï—Å–ª–∏ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç - –º–æ–∂–Ω–æ –Ω–∞—á–∏–Ω–∞—Ç—å –∏–∑–º–µ–Ω—è—Ç—å —Ç–µ–∫—Å—Ç—ã –≤ [i18n_categorized.json](i18n_categorized.json)

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã –æ—Å—Ç–∞—é—Ç—Å—è, –æ–ø–∏—à–∏—Ç–µ –ø–æ–¥—Ä–æ–±–Ω–µ–µ:
- –ö–∞–∫–∏–µ –∏–º–µ–Ω–Ω–æ —ç–ª–µ–º–µ–Ω—Ç—ã —Ç–µ—Ä—è—é—Ç —Å—Ç–∏–ª–∏?
- –ï—Å—Ç—å –ª–∏ –æ—à–∏–±–∫–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏?
- –ö–∞–∫–∏–µ CSS/JS —Ñ–∞–π–ª—ã –ø–æ–¥–∫–ª—é—á–µ–Ω—ã –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ?
